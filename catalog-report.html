<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>VoltDB Management Center</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">
<link href="http://assets.voltdb.com/css/resources/schema/bootstrap.min.css" rel="stylesheet">
<link href="http://assets.voltdb.com/css/resources/schema/bootstrap-responsive.css" rel="stylesheet">
<link href="http://assets.voltdb.com/css/resources/schema/theme.bootstrap.css" rel="stylesheet">
<link href="http://assets.voltdb.com/css/resources/layout.css" rel="stylesheet" />
<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
      <script src="http://assets.voltdb.com/b/js/html5shiv.js"></script>
    <![endif]-->
<!-- Fav and touch icons -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
<link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">
<link rel="shortcut icon" href="../assets/ico/favicon.png">
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $("#schemaLinkSqlQuery").on("click", function () {
                //For opening the SQL Query Tab
                $.cookie("current-tab", 3, { path: '/', domain: window.location.hostname });
            });
        });
    </script>
</head>
<body>
<div id="wrapper">
    <div class="catalogContainer" id="catalogContainer">
        <div class="catalogMenu" id="MenuCatalog">
            <div class="nav-collapse collapse">
                <ul class="catalogNav" id="catalogNavlist">
                    <li id='o-nav'> <a href="#o">Overview</a></li>
                    <li id='s-nav'> <a href="#s">Schema</a></li>
                    <li id='p-nav'> <a href="#p">Procedures &amp; SQL</a></li>
                    <!--        <li id='r-nav'> <a href="#r">System Report</a></li> -->
                    <li id='z-nav'> <a href="#z">Size Worksheet</a></li>
                    <li id='d-nav'> <a href="#d">DDL Source</a></li>
                    <!--        <li id='m-nav'> <a href='/memory/'>Memory Report</a></li> -->
                </ul>
                <div class="clear"></div>
            </div>
        </div>

        <!-- /container -->
        <div class="container" id="containerCatalog">
            <div id='o' class='reportpage'>
                <div class="dataBlock">
                    <!--<div class="dataBlockHeading"> <a name='o'></a>
                        <h1>Overview</h1>
                    </div>-->
                    <div class="dataBlockContent">
                        <p>This report was generated by the VoltDB compiler. It shows the <span class="prop"><a href='#s' id="sch">schema</a></span> and <span class="prop"><a href='#p' id="procedures">procedures</a></span> that comprise a
                            compiled VoltDB application catalog.</p>
                    </div>
                </div>
                <div class="dataBlock">
                    <div class="dataBlockContent systemOver" style="padding:0;">
                        <!--##CLUSTER##-->
                    </div>
                </div>
                <div class="dataBlock">
                    <div class="dataBlockHeading" style="border-bottom:none;">
                        <h3>Catalog Overview Statistics</h3>
                    </div>
                    <div class="dataBlockContent" style="padding:0;"> <table class='table table-condensed'>
<tr><td>Compiled by VoltDB Version</td><td>4.9</td></tr>
<tr><td>Compiled on</td><td>Sun, 7 Dec 2014 17:56:40 GMT+00:00</td></tr>
<tr><td>Table Count</td><td>5 (5 partitioned / 0 replicated)</td></tr>
<tr><td>Materialized View Count</td><td>0</td></tr>
<tr><td>Index Count</td><td>12</td></tr>
<tr><td>Procedure Count</td><td>0 (0 partitioned / 0 replicated) (0 read-only / 0 read-write)</td></tr>
<tr><td>SQL Statement Count</td><td>0</td></tr>
</table>

 </div>
                </div>
            </div>
            <div id='s' class='reportpage' style='display: none;'>
                <div class="dataBlock">
                    <div class="dataBlockHeading"> <a name='s'></a>
                        <h1>Schema</h1>
                    </div>
                    <div class="dataBlockContent">
                        <div class="tblScroll">
                        <table class="table tableL1 tablesorter" id='schematable'>
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Type</th>
                                    <th>Partitioning</th>
                                    <th>Columns</th>
                                    <th>Indexes</th>
                                    <th>PKey</th>
                                    <th>TupleLimit</th>
                                </tr>
                            </thead>
                            <tbody>

                                <tr class='primaryrow'><td style='white-space: nowrap;'><i id='s-orders--icon' class='icon-chevron-right'></i> <a href='#' id='s-orders' class='togglex'>ORDERS</a></td><td><span class='label label l-Table'>Table</span></td><td style='whitespace: nowrap;'><span class='label label-success l-Partitioned'>Partitioned</span><small> on VISITOR_ID</small></td><td>8</td><td>3 (3 unused)</td><td><span class='label label-info l-Has-PKey'>Has-PKey</span></td><td><span class='label label l-No-limit'>No-limit</span></td></tr>
<tr class='tablesorter-childRow'><td class='invert' colspan='7' id='s-orders--dropdown'>
<p><pre>CREATE TABLE orders (   message_id            varchar(36)     NOT NULL,   order_number          varchar(255)    DEFAULT NULL,   site_id               varchar(36)     NOT NULL,   visitor_id            varchar(36)     NOT NULL,   currency              varchar(3)      DEFAULT 'USD',   total_amount_pre_tax  decimal         NOT NULL,   total_amount_with_tax decimal         NOT NULL,   created_at            timestamp       DEFAULT CURRENT_TIMESTAMP,   CONSTRAINT PK_orders PRIMARY KEY   (     site_id, visitor_id, message_id   )  );</pre></p>
    <table class='table tableL2 table-condensed'>
    <thead><tr><th>Index Name</th><th>Type</th><th>Columns</th><th>Attributes</th></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-orders-ordersmessageididx--icon' class='icon-chevron-right'></i> <a href='#' id='s-orders-ordersmessageididx' class='togglex'>ORDERSMESSAGEIDIDX</a></td><td>BALANCED_TREE</td><td>MESSAGE_ID</td><td><span class='label label-success l-AssumeUnique'>AssumeUnique</span> <span class='label label-important l-Unused'>Unused</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-orders-ordersmessageididx--dropdown'>
</td></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-orders-orderssiteidvisitoridx--icon' class='icon-chevron-right'></i> <a href='#' id='s-orders-orderssiteidvisitoridx' class='togglex'>ORDERSSITEIDVISITORIDX</a></td><td>BALANCED_TREE</td><td>SITE_ID, VISITOR_ID</td><td><span class='label label-info l-Nonunique'>Nonunique</span> <span class='label label-important l-Unused'>Unused</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-orders-orderssiteidvisitoridx--dropdown'>
</td></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-orders-voltdb_autogen_constraint_idx_pk_orders--icon' class='icon-chevron-right'></i> <a href='#' id='s-orders-voltdb_autogen_constraint_idx_pk_orders' class='togglex'>VOLTDB_AUTOGEN_CONSTRAINT_IDX_PK_ORDERS</a></td><td>BALANCED_TREE</td><td>SITE_ID, VISITOR_ID, MESSAGE_ID</td><td><span class='label label-success l-Unique'>Unique</span> <span class='label label-important l-Unused'>Unused</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-orders-voltdb_autogen_constraint_idx_pk_orders--dropdown'>
</td></tr>
    </thead>
    </table>
</td></tr>
<tr class='primaryrow'><td style='white-space: nowrap;'><i id='s-order_products--icon' class='icon-chevron-right'></i> <a href='#' id='s-order_products' class='togglex'>ORDER_PRODUCTS</a></td><td><span class='label label l-Table'>Table</span></td><td style='whitespace: nowrap;'><span class='label label-success l-Partitioned'>Partitioned</span><small> on VISITOR_ID</small></td><td>6</td><td>1 (1 unused)</td><td><span class='label label-info l-Has-PKey'>Has-PKey</span></td><td><span class='label label l-No-limit'>No-limit</span></td></tr>
<tr class='tablesorter-childRow'><td class='invert' colspan='7' id='s-order_products--dropdown'>
<p><pre>CREATE TABLE order_products (   message_id             varchar(36)     NOT NULL,   site_id                varchar(36)     NOT NULL,   visitor_id             varchar(36)     NOT NULL,   product_id             varchar(255)    NOT NULL,   quantity               integer         NOT NULL,   total_line_amount      decimal         NOT NULL,   CONSTRAINT PK_order_products PRIMARY KEY   (     site_id, visitor_id, message_id, product_id   ) );</pre></p>
    <table class='table tableL2 table-condensed'>
    <thead><tr><th>Index Name</th><th>Type</th><th>Columns</th><th>Attributes</th></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-order_products-voltdb_autogen_constraint_idx_pk_order_products--icon' class='icon-chevron-right'></i> <a href='#' id='s-order_products-voltdb_autogen_constraint_idx_pk_order_products' class='togglex'>VOLTDB_AUTOGEN_CONSTRAINT_IDX_PK_ORDER_PRODUCTS</a></td><td>BALANCED_TREE</td><td>SITE_ID, VISITOR_ID, MESSAGE_ID, PRODUCT_ID</td><td><span class='label label-success l-Unique'>Unique</span> <span class='label label-important l-Unused'>Unused</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-order_products-voltdb_autogen_constraint_idx_pk_order_products--dropdown'>
</td></tr>
    </thead>
    </table>
</td></tr>
<tr class='primaryrow'><td style='white-space: nowrap;'><i id='s-product_views--icon' class='icon-chevron-right'></i> <a href='#' id='s-product_views' class='togglex'>PRODUCT_VIEWS</a></td><td><span class='label label l-Table'>Table</span></td><td style='whitespace: nowrap;'><span class='label label-success l-Partitioned'>Partitioned</span><small> on VISITOR_ID</small></td><td>6</td><td>3 (3 unused)</td><td><span class='label label-info l-Has-PKey'>Has-PKey</span></td><td><span class='label label l-No-limit'>No-limit</span></td></tr>
<tr class='tablesorter-childRow'><td class='invert' colspan='7' id='s-product_views--dropdown'>
<p>MISSING DDL</p>
    <table class='table tableL2 table-condensed'>
    <thead><tr><th>Index Name</th><th>Type</th><th>Columns</th><th>Attributes</th></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-product_views-productviewsmessageididx--icon' class='icon-chevron-right'></i> <a href='#' id='s-product_views-productviewsmessageididx' class='togglex'>PRODUCTVIEWSMESSAGEIDIDX</a></td><td>BALANCED_TREE</td><td>MESSAGE_ID</td><td><span class='label label-success l-AssumeUnique'>AssumeUnique</span> <span class='label label-important l-Unused'>Unused</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-product_views-productviewsmessageididx--dropdown'>
</td></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-product_views-productviewssiteidvisitorididx--icon' class='icon-chevron-right'></i> <a href='#' id='s-product_views-productviewssiteidvisitorididx' class='togglex'>PRODUCTVIEWSSITEIDVISITORIDIDX</a></td><td>BALANCED_TREE</td><td>SITE_ID, VISITOR_ID</td><td><span class='label label-info l-Nonunique'>Nonunique</span> <span class='label label-important l-Unused'>Unused</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-product_views-productviewssiteidvisitorididx--dropdown'>
</td></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-product_views-voltdb_autogen_constraint_idx_pk_product_views--icon' class='icon-chevron-right'></i> <a href='#' id='s-product_views-voltdb_autogen_constraint_idx_pk_product_views' class='togglex'>VOLTDB_AUTOGEN_CONSTRAINT_IDX_PK_PRODUCT_VIEWS</a></td><td>BALANCED_TREE</td><td>SITE_ID, VISITOR_ID, MESSAGE_ID</td><td><span class='label label-success l-Unique'>Unique</span> <span class='label label-important l-Unused'>Unused</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-product_views-voltdb_autogen_constraint_idx_pk_product_views--dropdown'>
</td></tr>
    </thead>
    </table>
</td></tr>
<tr class='primaryrow'><td style='white-space: nowrap;'><i id='s-promo_uses--icon' class='icon-chevron-right'></i> <a href='#' id='s-promo_uses' class='togglex'>PROMO_USES</a></td><td><span class='label label l-Table'>Table</span></td><td style='whitespace: nowrap;'><span class='label label-success l-Partitioned'>Partitioned</span><small> on VISITOR_ID</small></td><td>7</td><td>2 (2 unused)</td><td><span class='label label-info l-Has-PKey'>Has-PKey</span></td><td><span class='label label l-No-limit'>No-limit</span></td></tr>
<tr class='tablesorter-childRow'><td class='invert' colspan='7' id='s-promo_uses--dropdown'>
<p><pre>CREATE TABLE promo_uses (   message_id            varchar(36)     NOT NULL,   site_id               varchar(36)     NOT NULL,   visitor_id            varchar(36)     NOT NULL,   promo_id              varchar(36)     NOT NULL,   discount_amount       decimal         NOT NULL,   currency              varchar(3)      DEFAULT 'USD',   created_at            timestamp       DEFAULT CURRENT_TIMESTAMP,   CONSTRAINT PK_promo_uses PRIMARY KEY   (     site_id, visitor_id, message_id, promo_id   ) );</pre></p>
    <table class='table tableL2 table-condensed'>
    <thead><tr><th>Index Name</th><th>Type</th><th>Columns</th><th>Attributes</th></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-promo_uses-promousessiteidvisitoridpromoididx--icon' class='icon-chevron-right'></i> <a href='#' id='s-promo_uses-promousessiteidvisitoridpromoididx' class='togglex'>PROMOUSESSITEIDVISITORIDPROMOIDIDX</a></td><td>BALANCED_TREE</td><td>SITE_ID, VISITOR_ID, PROMO_ID</td><td><span class='label label-info l-Nonunique'>Nonunique</span> <span class='label label-important l-Unused'>Unused</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-promo_uses-promousessiteidvisitoridpromoididx--dropdown'>
</td></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-promo_uses-voltdb_autogen_constraint_idx_pk_promo_uses--icon' class='icon-chevron-right'></i> <a href='#' id='s-promo_uses-voltdb_autogen_constraint_idx_pk_promo_uses' class='togglex'>VOLTDB_AUTOGEN_CONSTRAINT_IDX_PK_PROMO_USES</a></td><td>BALANCED_TREE</td><td>SITE_ID, VISITOR_ID, MESSAGE_ID, PROMO_ID</td><td><span class='label label-success l-Unique'>Unique</span> <span class='label label-important l-Unused'>Unused</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-promo_uses-voltdb_autogen_constraint_idx_pk_promo_uses--dropdown'>
</td></tr>
    </thead>
    </table>
</td></tr>
<tr class='primaryrow'><td style='white-space: nowrap;'><i id='s-site_visits--icon' class='icon-chevron-right'></i> <a href='#' id='s-site_visits' class='togglex'>SITE_VISITS</a></td><td><span class='label label l-Table'>Table</span></td><td style='whitespace: nowrap;'><span class='label label-success l-Partitioned'>Partitioned</span><small> on VISITOR_ID</small></td><td>4</td><td>3 (3 unused)</td><td><span class='label label-info l-Has-PKey'>Has-PKey</span></td><td><span class='label label l-No-limit'>No-limit</span></td></tr>
<tr class='tablesorter-childRow'><td class='invert' colspan='7' id='s-site_visits--dropdown'>
<p>MISSING DDL</p>
    <table class='table tableL2 table-condensed'>
    <thead><tr><th>Index Name</th><th>Type</th><th>Columns</th><th>Attributes</th></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-site_visits-sitevisitsmessageididx--icon' class='icon-chevron-right'></i> <a href='#' id='s-site_visits-sitevisitsmessageididx' class='togglex'>SITEVISITSMESSAGEIDIDX</a></td><td>BALANCED_TREE</td><td>MESSAGE_ID</td><td><span class='label label-success l-AssumeUnique'>AssumeUnique</span> <span class='label label-important l-Unused'>Unused</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-site_visits-sitevisitsmessageididx--dropdown'>
</td></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-site_visits-sitevisitssiteidvisitorididx--icon' class='icon-chevron-right'></i> <a href='#' id='s-site_visits-sitevisitssiteidvisitorididx' class='togglex'>SITEVISITSSITEIDVISITORIDIDX</a></td><td>BALANCED_TREE</td><td>SITE_ID, VISITOR_ID</td><td><span class='label label-info l-Nonunique'>Nonunique</span> <span class='label label-important l-Unused'>Unused</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-site_visits-sitevisitssiteidvisitorididx--dropdown'>
</td></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-site_visits-voltdb_autogen_constraint_idx_pk_site_visits--icon' class='icon-chevron-right'></i> <a href='#' id='s-site_visits-voltdb_autogen_constraint_idx_pk_site_visits' class='togglex'>VOLTDB_AUTOGEN_CONSTRAINT_IDX_PK_SITE_VISITS</a></td><td>BALANCED_TREE</td><td>SITE_ID, VISITOR_ID, MESSAGE_ID</td><td><span class='label label-success l-Unique'>Unique</span> <span class='label label-important l-Unused'>Unused</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-site_visits-voltdb_autogen_constraint_idx_pk_site_visits--dropdown'>
</td></tr>
    </thead>
    </table>
</td></tr>

                            </tbody>

                        </table>
                        </div>
                        <br/>
                        <br/>
                        <span class="prop"><a href = '#d' id="ddlSource">View the DDL Source</a></span> </div>
                </div>
            </div>
            <div id='d' class='reportpage' style='display: none;'>
                <div class="dataBlock">
                    <div class="dataBlockHeading"> <a name='d'></a>
                  <h1>DDL Source <a class="btn" id="downloadDDL" download="ddl.sql" href="/ddl/" style="padding:5px;">Download</a> </h1>
                    </div>
                    <div class="dataBlockContent">
                        <pre>
CREATE TABLE ORDERS (
   MESSAGE_ID varchar(36) NOT NULL,
   ORDER_NUMBER varchar(255),
   SITE_ID varchar(36) NOT NULL,
   VISITOR_ID varchar(36) NOT NULL,
   CURRENCY varchar(3) DEFAULT 'USD',
   TOTAL_AMOUNT_PRE_TAX decimal NOT NULL,
   TOTAL_AMOUNT_WITH_TAX decimal NOT NULL,
   CREATED_AT timestamp DEFAULT CURRENT_TIMESTAMP,
   CONSTRAINT PK_ORDERS PRIMARY KEY (SITE_ID, VISITOR_ID, MESSAGE_ID)
);
PARTITION TABLE ORDERS ON COLUMN VISITOR_ID;
CREATE ASSUMEUNIQUE INDEX ORDERSMESSAGEIDIDX ON ORDERS (MESSAGE_ID);
CREATE INDEX ORDERSSITEIDVISITORIDX ON ORDERS (SITE_ID, VISITOR_ID);

CREATE TABLE ORDER_PRODUCTS (
   MESSAGE_ID varchar(36) NOT NULL,
   SITE_ID varchar(36) NOT NULL,
   VISITOR_ID varchar(36) NOT NULL,
   PRODUCT_ID varchar(255) NOT NULL,
   QUANTITY integer NOT NULL,
   TOTAL_LINE_AMOUNT decimal NOT NULL,
   CONSTRAINT PK_ORDER_PRODUCTS PRIMARY KEY (SITE_ID, VISITOR_ID, MESSAGE_ID, PRODUCT_ID)
);
PARTITION TABLE ORDER_PRODUCTS ON COLUMN VISITOR_ID;

CREATE TABLE PRODUCT_VIEWS (
   MESSAGE_ID varchar(36) NOT NULL,
   SITE_ID varchar(36) NOT NULL,
   VISITOR_ID varchar(36) NOT NULL,
   PRODUCT_ID varchar(255) NOT NULL,
   CATEGORY_ID varchar(255),
   CREATED_AT timestamp DEFAULT CURRENT_TIMESTAMP,
   CONSTRAINT PK_PRODUCT_VIEWS PRIMARY KEY (SITE_ID, VISITOR_ID, MESSAGE_ID)
);
PARTITION TABLE PRODUCT_VIEWS ON COLUMN VISITOR_ID;
CREATE ASSUMEUNIQUE INDEX PRODUCTVIEWSMESSAGEIDIDX ON PRODUCT_VIEWS (MESSAGE_ID);
CREATE INDEX PRODUCTVIEWSSITEIDVISITORIDIDX ON PRODUCT_VIEWS (SITE_ID, VISITOR_ID);

CREATE TABLE PROMO_USES (
   MESSAGE_ID varchar(36) NOT NULL,
   SITE_ID varchar(36) NOT NULL,
   VISITOR_ID varchar(36) NOT NULL,
   PROMO_ID varchar(36) NOT NULL,
   DISCOUNT_AMOUNT decimal NOT NULL,
   CURRENCY varchar(3) DEFAULT 'USD',
   CREATED_AT timestamp DEFAULT CURRENT_TIMESTAMP,
   CONSTRAINT PK_PROMO_USES PRIMARY KEY (SITE_ID, VISITOR_ID, MESSAGE_ID, PROMO_ID)
);
PARTITION TABLE PROMO_USES ON COLUMN VISITOR_ID;
CREATE INDEX PROMOUSESSITEIDVISITORIDPROMOIDIDX ON PROMO_USES (SITE_ID, VISITOR_ID, PROMO_ID);

CREATE TABLE SITE_VISITS (
   MESSAGE_ID varchar(36) NOT NULL,
   SITE_ID varchar(36) NOT NULL,
   VISITOR_ID varchar(36) NOT NULL,
   CREATED_AT timestamp DEFAULT CURRENT_TIMESTAMP,
   CONSTRAINT PK_SITE_VISITS PRIMARY KEY (SITE_ID, VISITOR_ID, MESSAGE_ID)
);
PARTITION TABLE SITE_VISITS ON COLUMN VISITOR_ID;
CREATE ASSUMEUNIQUE INDEX SITEVISITSMESSAGEIDIDX ON SITE_VISITS (MESSAGE_ID);
CREATE INDEX SITEVISITSSITEIDVISITORIDIDX ON SITE_VISITS (SITE_ID, VISITOR_ID);



</pre>
                    </div>
                </div>
            </div>
            <div id='p' class='reportpage' style='display: none;'>
                <div class="dataBlock">
                    <div class="dataBlockHeading"> <a name='p'></a>
                        <h1>Procedures &amp; SQL</h1>
                    </div>
                    <div class="dataBlockContent">
                        <div class="tblScroll">
                        <table class="table tableL1 tablesorter" id='proctable'>
                            <thead>
                                <tr>
                                    <th>Procedure Name</th>
                                    <th>Parameters</th>
                                    <th>Partitioning</th>
                                    <th>R/W</th>
                                    <th>Access</th>
                                    <th>Attributes</th>
                                </tr>
                            </thead>
                            <tbody>

                                
                            </tbody>

                        </table>
                        </div>
                    </div>
                </div>
            </div>
            <div id='r' class='reportpage' style='display: none;'>
                <div class="dataBlock">
                    <div class="dataBlockHeading">
                        <h1>System Report</h1>
                    </div>
                    <div class="dataBlockContent">
                        <!--##PLATFORM2##-->
                    </div>
                </div>
                <div class="dataBlock">
                    <div class="dataBlockHeading">
                        <h4>VoltDB Compiler Platform:</h4>
                    </div>
                    <div class="dataBlockContent">
                        <p><tt>CPU INFO:         4 Cores, 1 Sockets, 8 Hardware Threads<br/>
CPU DESC:         Intel Core i7 2 GHz 256 KB L2/core 6 MB L3<br/>
HOST MEMORY (MB): 16384<br/>
OS PROFILE:       Mac OS X 10.10.1 x86_64 en_US<br/>
JAVA VERSION:     1.7.0_51<br/>
JAVA RUNTIME:     Java(TM) SE Runtime Environment (1.7.0_51-b13)<br/>
JAVA VM:          Java HotSpot(TM) 64-Bit Server VM (24.51-b03, mixed mode)<br/>
</tt></p>
                    </div>
                </div>
            </div>
            <div id='z' class='reportpage' style='display: none;'>
                <div class="dataBlock">
                    <div class="dataBlockHeading"> <a name='z'></a>
                        <h1>Estimate Memory Used by User Data</h1>
                    </div>
                    <div class="dataBlockContent">
                        <table class="z-table" id="zTbl">
                            <tr>
                                <td width='40%'> This sizing worksheet is designed to help VoltDB application developers
                                    estimate the amount of memory the user data will require in an application.
                                    These estimates include user data and most of the per-row data structure
                                    overhead for that data. Memory use that is not proportional to the amount
                                    of data (e.g., the Java heap and any temporary buffers
                                    and caches) is not included. </td>
                                <td width='*'><small>
                                                  <ul>
                                                      <li>Sizes without units are in bytes.</li>
                                                      <li>For more useful results replace row counts with better estimates.</li>
                                                      <li>All calculated fields update after leaving any input field.</li>
                                                      <li>Warning: Page refresh resets all input fields.</li>
                                                      <li> VARCHAR columns are measured in UTF-8 characters by default. VARCHAR
                                                          columns of up to 16 characters are stored in-line at 4 bytes per character.
                                                          Columns of 16 characters or more are stored in pooled memory via pointers. </li>
                                                  </ul>
                                              </small></td>
                            </tr>
                        </table>
                    </div>
                    <div class="dataBlockContent">
                        <div class="tblScroll">
                        <table class="table tableL3 tablesorter" id='sizetable'>
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Type</th>
                                    <th>Count</th>
                                    <th class='min-max-header'>Row Min</th>
                                    <th class='min-max-header'>Row Max</th>
                                    <th class='min-max-header'>Index Min</th>
                                    <th class='min-max-header'>Index Max</th>
                                    <th class='min-max-header'>Table Min</th>
                                    <th class='min-max-header'>Table Max</th>
                                </tr>
                            </thead>
                            <tbody>

                                <!--##SIZES##-->
<tr class='primaryrow'><td class='table-view-name' id='s-size-1'>orders</td>
<td><span class='label label l-Table'>Table</span></td>
<td><div class='ecount'><input type='text' class='form-control count-input' id='s-size-1-count' onblur='sizes_update_all();' value='1000' class='form-control' placeholder='.ecount'></input>
</div></td>
<td id='s-size-1-rmin' class='right-cell'>437</td>
<td id='s-size-1-rmax' class='right-cell'>2293</td>
<td id='s-size-1-imin' class='right-cell'>168</td>
<td id='s-size-1-imax' class='right-cell'>168</td>
<td id='s-size-1-tmin' class='right-cell calculated-cell'>605000</td>
<td id='s-size-1-tmax' class='right-cell calculated-cell'>2461000</td>
</tr>
<tr class='tablesorter-childRow'><td class='invert' colspan='6' id='s-size-1--dropdown'>
<p><pre>CREATE TABLE orders (   message_id            varchar(36)     NOT NULL,   order_number          varchar(255)    DEFAULT NULL,   site_id               varchar(36)     NOT NULL,   visitor_id            varchar(36)     NOT NULL,   currency              varchar(3)      DEFAULT 'USD',   total_amount_pre_tax  decimal         NOT NULL,   total_amount_with_tax decimal         NOT NULL,   created_at            timestamp       DEFAULT CURRENT_TIMESTAMP,   CONSTRAINT PK_orders PRIMARY KEY   (     site_id, visitor_id, message_id   )  );</pre></p>
    <table class='table tableL2 table-condensed'>
    <thead><tr><th>Index Name</th><th>Type</th><th>Columns</th><th>Attributes</th></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-orders-ordersmessageididx--icon' class='icon-chevron-right'></i> <a href='#' id='s-orders-ordersmessageididx' class='togglex'>ORDERSMESSAGEIDIDX</a></td><td>BALANCED_TREE</td><td>MESSAGE_ID</td><td><span class='label label-success l-AssumeUnique'>AssumeUnique</span> <span class='label label-important l-Unused'>Unused</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-orders-ordersmessageididx--dropdown'>
</td></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-orders-orderssiteidvisitoridx--icon' class='icon-chevron-right'></i> <a href='#' id='s-orders-orderssiteidvisitoridx' class='togglex'>ORDERSSITEIDVISITORIDX</a></td><td>BALANCED_TREE</td><td>SITE_ID, VISITOR_ID</td><td><span class='label label-info l-Nonunique'>Nonunique</span> <span class='label label-important l-Unused'>Unused</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-orders-orderssiteidvisitoridx--dropdown'>
</td></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-orders-voltdb_autogen_constraint_idx_pk_orders--icon' class='icon-chevron-right'></i> <a href='#' id='s-orders-voltdb_autogen_constraint_idx_pk_orders' class='togglex'>VOLTDB_AUTOGEN_CONSTRAINT_IDX_PK_ORDERS</a></td><td>BALANCED_TREE</td><td>SITE_ID, VISITOR_ID, MESSAGE_ID</td><td><span class='label label-success l-Unique'>Unique</span> <span class='label label-important l-Unused'>Unused</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-orders-voltdb_autogen_constraint_idx_pk_orders--dropdown'>
</td></tr>
    </thead>
    </table>
</td></tr>
<tr class='primaryrow'><td class='table-view-name' id='s-size-2'>order_products</td>
<td><span class='label label l-Table'>Table</span></td>
<td><div class='ecount'><input type='text' class='form-control count-input' id='s-size-2-count' onblur='sizes_update_all();' value='1000' class='form-control' placeholder='.ecount'></input>
</div></td>
<td id='s-size-2-rmin' class='right-cell'>404</td>
<td id='s-size-2-rmax' class='right-cell'>2260</td>
<td id='s-size-2-imin' class='right-cell'>72</td>
<td id='s-size-2-imax' class='right-cell'>72</td>
<td id='s-size-2-tmin' class='right-cell calculated-cell'>476000</td>
<td id='s-size-2-tmax' class='right-cell calculated-cell'>2332000</td>
</tr>
<tr class='tablesorter-childRow'><td class='invert' colspan='6' id='s-size-2--dropdown'>
<p><pre>CREATE TABLE order_products (   message_id             varchar(36)     NOT NULL,   site_id                varchar(36)     NOT NULL,   visitor_id             varchar(36)     NOT NULL,   product_id             varchar(255)    NOT NULL,   quantity               integer         NOT NULL,   total_line_amount      decimal         NOT NULL,   CONSTRAINT PK_order_products PRIMARY KEY   (     site_id, visitor_id, message_id, product_id   ) );</pre></p>
    <table class='table tableL2 table-condensed'>
    <thead><tr><th>Index Name</th><th>Type</th><th>Columns</th><th>Attributes</th></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-order_products-voltdb_autogen_constraint_idx_pk_order_products--icon' class='icon-chevron-right'></i> <a href='#' id='s-order_products-voltdb_autogen_constraint_idx_pk_order_products' class='togglex'>VOLTDB_AUTOGEN_CONSTRAINT_IDX_PK_ORDER_PRODUCTS</a></td><td>BALANCED_TREE</td><td>SITE_ID, VISITOR_ID, MESSAGE_ID, PRODUCT_ID</td><td><span class='label label-success l-Unique'>Unique</span> <span class='label label-important l-Unused'>Unused</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-order_products-voltdb_autogen_constraint_idx_pk_order_products--dropdown'>
</td></tr>
    </thead>
    </table>
</td></tr>
<tr class='primaryrow'><td class='table-view-name' id='s-size-3'>product_views</td>
<td><span class='label label l-Table'>Table</span></td>
<td><div class='ecount'><input type='text' class='form-control count-input' id='s-size-3-count' onblur='sizes_update_all();' value='1000' class='form-control' placeholder='.ecount'></input>
</div></td>
<td id='s-size-3-rmin' class='right-cell'>488</td>
<td id='s-size-3-rmax' class='right-cell'>3816</td>
<td id='s-size-3-imin' class='right-cell'>168</td>
<td id='s-size-3-imax' class='right-cell'>168</td>
<td id='s-size-3-tmin' class='right-cell calculated-cell'>656000</td>
<td id='s-size-3-tmax' class='right-cell calculated-cell'>3984000</td>
</tr>
<tr class='tablesorter-childRow'><td class='invert' colspan='6' id='s-size-3--dropdown'>
<p>MISSING DDL</p>
    <table class='table tableL2 table-condensed'>
    <thead><tr><th>Index Name</th><th>Type</th><th>Columns</th><th>Attributes</th></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-product_views-productviewsmessageididx--icon' class='icon-chevron-right'></i> <a href='#' id='s-product_views-productviewsmessageididx' class='togglex'>PRODUCTVIEWSMESSAGEIDIDX</a></td><td>BALANCED_TREE</td><td>MESSAGE_ID</td><td><span class='label label-success l-AssumeUnique'>AssumeUnique</span> <span class='label label-important l-Unused'>Unused</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-product_views-productviewsmessageididx--dropdown'>
</td></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-product_views-productviewssiteidvisitorididx--icon' class='icon-chevron-right'></i> <a href='#' id='s-product_views-productviewssiteidvisitorididx' class='togglex'>PRODUCTVIEWSSITEIDVISITORIDIDX</a></td><td>BALANCED_TREE</td><td>SITE_ID, VISITOR_ID</td><td><span class='label label-info l-Nonunique'>Nonunique</span> <span class='label label-important l-Unused'>Unused</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-product_views-productviewssiteidvisitorididx--dropdown'>
</td></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-product_views-voltdb_autogen_constraint_idx_pk_product_views--icon' class='icon-chevron-right'></i> <a href='#' id='s-product_views-voltdb_autogen_constraint_idx_pk_product_views' class='togglex'>VOLTDB_AUTOGEN_CONSTRAINT_IDX_PK_PRODUCT_VIEWS</a></td><td>BALANCED_TREE</td><td>SITE_ID, VISITOR_ID, MESSAGE_ID</td><td><span class='label label-success l-Unique'>Unique</span> <span class='label label-important l-Unused'>Unused</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-product_views-voltdb_autogen_constraint_idx_pk_product_views--dropdown'>
</td></tr>
    </thead>
    </table>
</td></tr>
<tr class='primaryrow'><td class='table-view-name' id='s-size-4'>promo_uses</td>
<td><span class='label label l-Table'>Table</span></td>
<td><div class='ecount'><input type='text' class='form-control count-input' id='s-size-4-count' onblur='sizes_update_all();' value='1000' class='form-control' placeholder='.ecount'></input>
</div></td>
<td id='s-size-4-rmin' class='right-cell'>421</td>
<td id='s-size-4-rmax' class='right-cell'>933</td>
<td id='s-size-4-imin' class='right-cell'>136</td>
<td id='s-size-4-imax' class='right-cell'>136</td>
<td id='s-size-4-tmin' class='right-cell calculated-cell'>557000</td>
<td id='s-size-4-tmax' class='right-cell calculated-cell'>1069000</td>
</tr>
<tr class='tablesorter-childRow'><td class='invert' colspan='6' id='s-size-4--dropdown'>
<p><pre>CREATE TABLE promo_uses (   message_id            varchar(36)     NOT NULL,   site_id               varchar(36)     NOT NULL,   visitor_id            varchar(36)     NOT NULL,   promo_id              varchar(36)     NOT NULL,   discount_amount       decimal         NOT NULL,   currency              varchar(3)      DEFAULT 'USD',   created_at            timestamp       DEFAULT CURRENT_TIMESTAMP,   CONSTRAINT PK_promo_uses PRIMARY KEY   (     site_id, visitor_id, message_id, promo_id   ) );</pre></p>
    <table class='table tableL2 table-condensed'>
    <thead><tr><th>Index Name</th><th>Type</th><th>Columns</th><th>Attributes</th></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-promo_uses-promousessiteidvisitoridpromoididx--icon' class='icon-chevron-right'></i> <a href='#' id='s-promo_uses-promousessiteidvisitoridpromoididx' class='togglex'>PROMOUSESSITEIDVISITORIDPROMOIDIDX</a></td><td>BALANCED_TREE</td><td>SITE_ID, VISITOR_ID, PROMO_ID</td><td><span class='label label-info l-Nonunique'>Nonunique</span> <span class='label label-important l-Unused'>Unused</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-promo_uses-promousessiteidvisitoridpromoididx--dropdown'>
</td></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-promo_uses-voltdb_autogen_constraint_idx_pk_promo_uses--icon' class='icon-chevron-right'></i> <a href='#' id='s-promo_uses-voltdb_autogen_constraint_idx_pk_promo_uses' class='togglex'>VOLTDB_AUTOGEN_CONSTRAINT_IDX_PK_PROMO_USES</a></td><td>BALANCED_TREE</td><td>SITE_ID, VISITOR_ID, MESSAGE_ID, PROMO_ID</td><td><span class='label label-success l-Unique'>Unique</span> <span class='label label-important l-Unused'>Unused</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-promo_uses-voltdb_autogen_constraint_idx_pk_promo_uses--dropdown'>
</td></tr>
    </thead>
    </table>
</td></tr>
<tr class='primaryrow'><td class='table-view-name' id='s-size-5'>site_visits</td>
<td><span class='label label l-Table'>Table</span></td>
<td><div class='ecount'><input type='text' class='form-control count-input' id='s-size-5-count' onblur='sizes_update_all();' value='1000' class='form-control' placeholder='.ecount'></input>
</div></td>
<td id='s-size-5-rmin' class='right-cell'>296</td>
<td id='s-size-5-rmax' class='right-cell'>680</td>
<td id='s-size-5-imin' class='right-cell'>168</td>
<td id='s-size-5-imax' class='right-cell'>168</td>
<td id='s-size-5-tmin' class='right-cell calculated-cell'>464000</td>
<td id='s-size-5-tmax' class='right-cell calculated-cell'>848000</td>
</tr>
<tr class='tablesorter-childRow'><td class='invert' colspan='6' id='s-size-5--dropdown'>
<p>MISSING DDL</p>
    <table class='table tableL2 table-condensed'>
    <thead><tr><th>Index Name</th><th>Type</th><th>Columns</th><th>Attributes</th></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-site_visits-sitevisitsmessageididx--icon' class='icon-chevron-right'></i> <a href='#' id='s-site_visits-sitevisitsmessageididx' class='togglex'>SITEVISITSMESSAGEIDIDX</a></td><td>BALANCED_TREE</td><td>MESSAGE_ID</td><td><span class='label label-success l-AssumeUnique'>AssumeUnique</span> <span class='label label-important l-Unused'>Unused</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-site_visits-sitevisitsmessageididx--dropdown'>
</td></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-site_visits-sitevisitssiteidvisitorididx--icon' class='icon-chevron-right'></i> <a href='#' id='s-site_visits-sitevisitssiteidvisitorididx' class='togglex'>SITEVISITSSITEIDVISITORIDIDX</a></td><td>BALANCED_TREE</td><td>SITE_ID, VISITOR_ID</td><td><span class='label label-info l-Nonunique'>Nonunique</span> <span class='label label-important l-Unused'>Unused</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-site_visits-sitevisitssiteidvisitorididx--dropdown'>
</td></tr>
        <tr class='primaryrow2'><td style='white-space: nowrap'><i id='s-site_visits-voltdb_autogen_constraint_idx_pk_site_visits--icon' class='icon-chevron-right'></i> <a href='#' id='s-site_visits-voltdb_autogen_constraint_idx_pk_site_visits' class='togglex'>VOLTDB_AUTOGEN_CONSTRAINT_IDX_PK_SITE_VISITS</a></td><td>BALANCED_TREE</td><td>SITE_ID, VISITOR_ID, MESSAGE_ID</td><td><span class='label label-success l-Unique'>Unique</span> <span class='label label-important l-Unused'>Unused</span></td></tr>
<tr class='dropdown2'><td colspan='5' id='s-site_visits-voltdb_autogen_constraint_idx_pk_site_visits--dropdown'>
</td></tr>
    </thead>
    </table>
</td></tr>

                            </tbody>

                        </table>
                        </div>
                    </div>
                </div>
                <div class="dataBlock">
                    <div class="dataBlockHeading">
                        <h3>Size Analysis Summary</h3>
                    </div>
                    <div class="dataBlockContent">
                        <div class="tblScroll">
                        <table class='table size-summary-table'>
<tr><td id='s-size-summary-table-count' class='right-cell'>5</td><td>tables whose row data  is expected to use between&nbsp;</td><td id='s-size-summary-table-min' class='right-cell calculated-cell'>2046000</td><td>&nbsp;and&nbsp;</td><td id='s-size-summary-table-max' class='right-cell calculated-cell'>9982000</td><td>&nbsp; of memory.&nbsp;</td></tr>
<tr><td id='s-size-summary-view-count' class='right-cell'>0</td><td>materialized views whose row data  is expected to use about&nbsp;</td><td id='s-size-summary-view-min' class='right-cell calculated-cell'>0</td><td colspan='3'>&nbsp; of memory.&nbsp;</td></tr>
<tr><td id='s-size-summary-index-count' class='right-cell'>12</td><td>indexes whose key data and overhead  is expected to use about&nbsp;</td><td id='s-size-summary-index-min' class='right-cell calculated-cell'>712</td><td colspan='3'>&nbsp; of memory.&nbsp;</td></tr>
<tr><td colspan='6'>&nbsp;</td></tr>
<tr><td colspan='2'><b>Total user data is expected to use between</b>&nbsp;</td><td id='s-size-summary-total-min' class='right-cell calculated-cell'>2046712</td><td>&nbsp;<b>and</b>&nbsp;</td><td id='s-size-summary-total-max' class='right-cell calculated-cell'>9982712</td><td>&nbsp<b>of memory.</b></td></tr>
</table>

                        </div>
                    </div>
                </div>
            </div>

        </div>
        <div class="documentation"> <a href="http://voltdb.com/docs" class="icon-document" id="iconDoc">VoltDB Documentation</a> <span>Generated by VoltDB 4.9 on 7 Dec 2014 17:56:40 GMT+00:00</span>
            <div class="clear"></div>
        </div>
    </div>
    </div>
<!-- Le javascript
    ================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="http://assets.voltdb.com/js/bootstrap.js"></script>
<script src="http://assets.voltdb.com/js/jquery.tablesorter.js"></script>
<script src="http://assets.voltdb.com/js/jquery.tablesorter.widgets.js"></script>

    <script>
        $('#versioncheck').attr('src', 'http://community.voltdb.com/versioncheck?app=catreport&ver=4.9');
        function navigate(hash) {
            console.log(hash);
            if (hash.length == 0) hash = '#o';
            hash = hash.toLowerCase();
            var anchor = hash.substring(1);
            var parts = anchor.split('-');
            var toppage = parts[0];
            // reset everything
            $('.tablesorter-childRow>td').hide();
            $('.dropdown2>td').hide();
            $('.primaryrow>td').show();
            $('.primaryrow2>td').show();
            // make arrows point the right way
            $('.icon-chevron-down').removeClass('icon-chevron-down').addClass('icon-chevron-right');
            $('.primaryrow').css('background-color', '#ffffff');
            $('.nav-collapse ul li').removeClass('active');
            $('div.reportpage').hide();
            $('#' + toppage + '-nav').addClass('active');
            $('#' + toppage).show();
            if (parts.length > 1) {
                var primary = parts[1];
                console.log("primary = " + primary);
                var iconid = "#" + toppage + "-" + primary + "--icon";
                var dropdownid = "#" + toppage + "-" + primary + "--dropdown";
                $(dropdownid).show();
                $(iconid).parentsUntil("tbody", 'tr').css('background-color', '#dddddd');
                $(iconid).removeClass('icon-chevron-right').addClass('icon-chevron-down');
                if (parts.length > 2) {
                    var secondary = parts[2];
                    console.log("secondary = " + secondary);
                    var iconid2 = "#" + toppage + "-" + primary + "-" + secondary + "--icon";
                    var dropdownid2 = "#" + toppage + "-" + primary + "-" + secondary + "--dropdown";
                    $(dropdownid2).show();
                    $(iconid2).removeClass('icon-chevron-right').addClass('icon-chevron-down');
                }
            }
            location.hash = hash;
        }
        $( document ).ready(function() {
            console.log("ready!");
            $.extend($.tablesorter.themes.bootstrap, {
                // these classes are added to the table. To see other table classes available,
                // look here: http://twitter.github.com/bootstrap/base-css.html#tables
                table      : 'table table-bordered',
                header     : 'bootstrap-header', // give the header a gradient background
                footerRow  : '',
                footerCells: '',
                icons      : '', // add "icon-white" to make them white; this icon class is added to the <i> in the header
                sortNone   : 'bootstrap-icon-unsorted',
                sortAsc    : 'icon-chevron-up',
                sortDesc   : 'icon-chevron-down',
                active     : '', // applied when column is sorted
                hover      : '', // use custom css here - bootstrap class may not override it
                filterRow  : '', // filter row class
                even       : '', // odd row zebra striping
                odd        : ''  // even row zebra striping
            });
            $(".tableL1").tablesorter({
                theme : 'bootstrap',
                widthFixed: true,
                headerTemplate : '{content} {icon}',
                widgets : [ "uitheme", "filter", "stickyHeaders" ],
                widgetOptions : {
                    filter_reset : ".reset",
                    filter_hideFilters : false
                },
                cssChildRow: "tablesorter-childRow"
            });
            $('.tableL1').delegate('.togglex', 'click' ,function(){
                var id = $(this).attr('id');
                var toppage = id.split('-')[0];
                var dropdownid = "#" + id + "--dropdown";
                var hash = "#" + id;
                if ($(dropdownid).is(":visible")) {
                    hash = "#" + toppage;
                }
                history.replaceState(null, null, hash);
                navigate(hash);
                return false;
            });
            $('.tableL2').delegate('.togglex', 'click' ,function(){
                var id = $(this).attr('id');
                console.log("l2click: " + id);
                var parts = id.split('-');
                var toppage = parts[0];
                var primary = parts[1];
                var dropdownid = "#" + id + "--dropdown";
                var hash = "#" + id;
                if ($(dropdownid).is(":visible")) {
                    console.log("l2clickVISIBLE");
                    hash = "#" + toppage + "-" + primary;
                }
                else {
                    console.log("not visible");
                }
                history.replaceState(null, null, hash);
                navigate(hash);
                return false;
            });
            $(".tableL3").tablesorter({
                theme : 'bootstrap',
                widthFixed: true,
                headerTemplate : '{content} {icon}',
                widgets : [ "uitheme", "filter", "stickyHeaders" ],
                widgetOptions : {
                    filter_reset : ".reset",
                    filter_hideFilters : false
                },
                cssChildRow: "tablesorter-childRow"
            });
            $('.tableL3').delegate('.togglex', 'click' ,function(){
                var id = $(this).attr('id');
                var toppage = id.split('-')[0];
                var dropdownid = "#" + id + "--dropdown";
                var hash = "#" + id;
                if ($(dropdownid).is(":visible")) {
                    hash = "#" + toppage;
                }
                history.replaceState(null, null, hash);
                navigate(hash);
                return false;
            });
            navigate($(location).attr('hash'));
            $(window).bind('hashchange', function () { //detect hash change
                navigate(window.location.hash);
            });
            // tooltips
            $('.l-Table').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'Persistent Relational Table'});
            $('.l-Materialized_View').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'Views are always materialized and incrementally maintained.'});
            $('.l-Replicated').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'Table data is present at all partitions. Updates are a multi-partition operation.'});
            $('.l-Partitioned').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'Table data is partitioned on the hash of a column. Data is replicated to k+1 hosts.'});
            $('.l-Has-PKey').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'The table has a primary key and corresponding index.'});
            $('.l-No-PKey').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'The table has no primary key. Deletes and updates will require scans.'});
            $('.l-Read').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'This procedure doesn\'t alter the content of the database.'});
            $('.l-Write').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'This procedure can alter the contents of the database.'});
            $('.l-Single').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'This procedure only runs at one partition.'});
            $('.l-Multi').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'This procedure runs at all partitions, which can affect performance.'});
            $('.l-Java').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'This procedure uses Java code for logic.'});
            $('.l-Single-Stmt').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'This procedure was defined in the DDL file as a single SQL statement.'});
            $('.l-Scans').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'This procedure or statement might be using full table scans. While this isn\'t ' +
                'always bad, it\'s possible adding an index could improve performance.'});
            $('.l-Determinism').popover({trigger:'focus hover',delay:{show:500,hide:100},placement:'top',content:
                'This statement or procedure could potentially use SQL that outputs non-deterministic ' +
                'results which then may be used to modify state. If this happens, the cluster will ' +
                'halt. Consider adding an ORDER BY clause to make a SELECT statement deterministic.'});
            sizes_update_all();
        });
        function numberWithCommas(n) {
            n = Math.round(n / 1000.0);
            var parts=n.toString().split(".");
            return parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ",") + (parts[1] ? "." + parts[1] : "") + " K";
        }
        function size_table_element(name, nrow) {
        	var id = "s-size-".concat(nrow, '-', name);
            var e = document.getElementById(id);
            return e;
        }
        function size_table_value(name, nrow) {
        	var elem = size_table_element(name, nrow);
        	var value = Math.floor(name == "count" ? elem.value : elem.innerHTML);
        	return value;
        }
        function size_table_update(name, nrow, value) {
            var elem = size_table_element(name, nrow);
            if (elem != null) {
                elem.innerHTML = numberWithCommas(value);
            }
        }
        function size_summary_element(type, name) {
            var id = "s-size-summary-".concat(type, '-', name);
            var e = document.getElementById(id);
            return e;
        }
        function size_summary_value(type, name) {
            var elem = size_summary_element(type, name);
            var value = Math.floor(elem.innerHTML);
            return value;
        }
        function size_summary_update(type, name, value) {
            var elem = size_summary_element(type, name);
            if (elem != null) {
                elem.innerHTML = numberWithCommas(value);
            }
        }
        function sizes_get_row(nrow) {
            return {
                "count": size_table_value("count", nrow),
                "rmin": size_table_value("rmin", nrow),
                "rmax": size_table_value("rmax", nrow),
                "imin": size_table_value("imin", nrow),
                "imax": size_table_value("imax", nrow),
                "tmin": size_table_value("tmin", nrow),
                "tmax": size_table_value("tmax", nrow)
            };
        }
        // Do the size worksheet calculations for a single row.
        function sizes_update_row(nrow) {
        	var v = sizes_get_row(nrow);
            size_table_update("tmin", nrow, (v["rmin"] + v["imin"]) * v["count"]);
            size_table_update("tmax", nrow, (v["rmax"] + v["imax"]) * v["count"]);
        }
        /*
         * Update the size worksheet summary.
         */
        function sizes_update_summary() {
        	var ntables = size_summary_value("table", "count");
            var nviews = size_summary_value("view", "count");
            var nrow = 0;
            var tmin = 0;
            var tmax = 0;
            var vmin = 0;
            var vmax = 0;
            var imin = 0;
            var imax = 0;
        	for (var ntable = 0; ntable < ntables; ++ntable) {
                var v = sizes_get_row(++nrow);
                tmin += (v["rmin"] * v["count"]);
                tmax += (v["rmax"] * v["count"]);
                imin += (v["imin"] * v["count"]);
                imax += (v["imax"] * v["count"]);
        	}
            for (var nview = 0; nview < nviews; ++nview) {
                var v = sizes_get_row(++nrow);
                vmin += (v["rmin"] * v["count"]);
                vmax += (v["rmax"] * v["count"]);
                imin += (v["imin"] * v["count"]);
                imax += (v["imax"] * v["count"]);
            }
            size_summary_update("table", "min", tmin);
            size_summary_update("table", "max", tmax);
            size_summary_update("view", "min", vmin);
            size_summary_update("view", "max", vmax);
            size_summary_update("index", "min", imin);
            size_summary_update("index", "max", imax);
            size_summary_update("total", "min", tmin + vmin + imin);
            size_summary_update("total", "max", tmax + vmax + imax);
        }
        /*
         * Do all the size worksheet calculations at once.
         * Call sizes_update_row() when a single row is changed.
         */
        function sizes_update_all() {
            // Use the summary counts to determine the number of table rows.
            var ntables = size_summary_value("table", "count");
            var nviews = size_summary_value("view", "count");
            for (var nrow = 1; nrow <= ntables + nviews; ++nrow) {
                sizes_update_row(nrow);
            }
            sizes_update_summary();
        }
    </script>

</body>
</html>
